---
title: "glmnet"
author: "Douglas Drake"
date: "8/7/2019"
output: html_document
---

## Read the Data

```{r}
df <- read.csv("C:/Users/dadra/Desktop/Project3/NCS-1MLProject/dougstuff/reduced-data2.csv")
dim(df)
```

## Prepare for Fitting the Model

```{r}
y <- df$V6309
df <- subset(df, select=-c(CASEID, V6309))

cat.attribs = names(df)
cat.attribs <- cat.attribs[cat.attribs != "AGE"]
model.df <- data.frame(age = df[,'AGE'])
for(attrib in cat.attribs) {
  model.df[,attrib] <- factor(df[,attrib], exclude = NULL)
}

x <- model.matrix( ~ .-1, model.df)
dim(x)
```

```{r}
library(glmnet)
```

```{r}
model <- glmnet(x=x, y=y, family="binomial")
plot(model)
```

```{r}
cv.model <- cv.glmnet(x=x, y=y, family="binomial")
plot(cv.model)
cv.model$lambda.min
```
